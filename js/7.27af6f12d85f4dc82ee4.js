(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{435:function(t,e,i){},436:function(t,e,i){},437:function(t,e,i){},501:function(t,e,i){"use strict";i(435)},502:function(t,e,i){"use strict";i(436)},503:function(t,e,i){"use strict";i(437)},507:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-sheet",{staticClass:"content"},[i("Header"),t._v(" "),i("v-main",{staticClass:"main"},[i("v-container",[i("v-select",{staticClass:"mt-4",attrs:{color:"cyan",items:t.countyList,label:"縣市",loading:t.countyLoading},on:{click:t.county_click},scopedSlots:t._u([{key:"no-data",fn:function(){return[i("div",{staticClass:"pa-2"},[t._v(t._s(t.countyLoading?"載入中...":"空資料"))])]},proxy:!0},{key:"selection",fn:function(e){var n=e.item;return[i("div",{staticClass:"text-truncate"},[t._v(t._s(n.text))])]}},{key:"item",fn:function(e){var n=e.item,a=e.attrs,s=e.on;return[i("v-list-item",t._g(t._b({},"v-list-item",a,!1),s),[i("v-list-item-content",[i("v-list-item-title",{attrs:{id:a["aria-labelledby"]},domProps:{textContent:t._s(n.text)}})],1)],1)]}}]),model:{value:t.countyValue,callback:function(e){t.countyValue=e},expression:"countyValue"}}),t._v(" "),t.countyValue?i("v-select",{staticClass:"mt-4",attrs:{color:"cyan",items:t.stationList,label:"檢測站點",loading:t.stationLoading},on:{click:t.station_click,change:t.station_change},scopedSlots:t._u([{key:"no-data",fn:function(){return[i("div",{staticClass:"pa-2"},[t._v(t._s(t.stationLoading?"載入中...":"空資料"))])]},proxy:!0},{key:"selection",fn:function(e){var n=e.item;return[i("div",{staticClass:"text-truncate"},[t._v(t._s(n.text))])]}},{key:"item",fn:function(e){var n=e.item,a=e.attrs,s=e.on;return[i("v-list-item",t._g(t._b({},"v-list-item",a,!1),s),[i("v-list-item-content",[i("v-list-item-title",{attrs:{id:a["aria-labelledby"]},domProps:{textContent:t._s(n.text)}})],1)],1)]}}],null,!1,2771200930),model:{value:t.stationValue,callback:function(e){t.stationValue=e},expression:"stationValue"}}):t._e(),t._v(" "),t.stationValue&&t.countyValue?i("div",{staticClass:"d-flex"},[i("v-date-picker",{attrs:{"no-title":"",color:"cyan"},on:{change:t.date_change},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),t.openTimeLoading?i("div",[t._v("\n          讀取中...\n        ")]):i("div",{staticClass:"d-flex flex-column"},[i("div",[t._v(t._s(t.openTime?"最大車次："+t.openTime.maxcount:"無開放"))]),t._v(" "),t.countyValue&&t.stationValue&&t.date?i("div",{staticClass:"d-flex"},[i("div",{staticClass:"flex-fill"}),t._v(" "),t.openTime?[i("v-btn",{attrs:{depressed:"",color:"cyan white--text mr-2"},on:{click:t.editItem}},[t._v("\n                變更\n              ")]),t._v(" "),i("v-btn",{attrs:{depressed:"",color:"cyan white--text"},on:{click:t.removeItem}},[t._v("\n                刪除\n              ")])]:[i("v-btn",{attrs:{depressed:"",color:"cyan white--text"},on:{click:t.addItem}},[t._v("\n                登錄\n              ")])]],2):t._e()])],1):t._e()],1)],1),t._v(" "),i("DetectDateNewItem",{ref:"newItem",on:{save:t.detectDateNewItem_save}}),t._v(" "),i("DetectDateEditItem",{ref:"editItem",on:{save:t.detectDateEditItem_save}}),t._v(" "),i("v-overlay",{attrs:{value:t.running}},[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[t._v("執行中...")])],1)],1)};n._withStripped=!0;var a=i(402),s=i(401),o=i(408),c=i(400),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("v-card",[i("v-card-title",{staticClass:"justify-center"},[i("span",{staticClass:"headline"},[t._v("新增")])]),t._v(" "),i("v-card-text",[i("v-container",[i("div",{staticClass:"row"},t._l(t.items,(function(e,n){return i("TableItem",{key:"item"+n,staticClass:"pa-1",attrs:{data:t.data,items:t.items,name:n,item:e}})})),1)])],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{depressed:""},on:{click:function(e){return t.cancelItem(t.items)}}},[t._v("\n        取消\n      ")]),t._v(" "),i("v-btn",{attrs:{depressed:"",color:"cyan white--text"},on:{click:function(e){return t.saveItem(t.items)}}},[t._v("\n        儲存\n      ")])],1)],1)],1)};r._withStripped=!0;var u=i(409),l={mixins:[s.validationMixin],components:{TableItem:u.a},validations:{data:{maxcount:{required:a.required}}},data:function(){var t=this;return{data:{},items:{maxcount:{label:"最大車次",class:"col-12",errors:function(e){if(t.$v.data[e].$dirty)return t.$v.data[e].required?void 0:"請填寫這個欄位。"}}},show:!1}},mounted:function(){},methods:{resetData:function(){this.data={}},reset:function(){this.$v.data.$reset(),this.resetData()},cancelItem:function(t){this.show=!1},saveItem:function(t){this.$v.data.$touch(),this.$v.data.$error||(this.$emit("save",this.data),this.show=!1)}},computed:{}},d=(i(501),i(115)),m=Object(d.a)(l,r,[],!1,null,"503d3df6",null);m.options.__file="src/vue/pages/components/DetectDateNewItem.vue";var v=m.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("v-card",[i("v-card-title",{staticClass:"justify-center"},[i("span",{staticClass:"headline"},[t._v("新增")])]),t._v(" "),i("v-card-text",[i("v-container",[i("div",{staticClass:"row"},t._l(t.items,(function(e,n){return i("TableItem",{key:"item"+n,staticClass:"pa-1",attrs:{data:t.data,items:t.items,name:n,item:e}})})),1)])],1),t._v(" "),i("v-card-actions",[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{depressed:""},on:{click:function(e){return t.cancelItem(t.items)}}},[t._v("\n        取消\n      ")]),t._v(" "),i("v-btn",{attrs:{depressed:"",color:"cyan white--text"},on:{click:function(e){return t.saveItem(t.items)}}},[t._v("\n        儲存\n      ")])],1)],1)],1)};h._withStripped=!0;var p={mixins:[s.validationMixin],components:{TableItem:u.a},validations:{data:{maxcount:{required:a.required}}},data:function(){var t=this;return{data:{},items:{maxcount:{label:"最大車次",class:"col-12",errors:function(e){if(t.$v.data[e].$dirty)return t.$v.data[e].required?void 0:"請填寫這個欄位。"}}},show:!1}},mounted:function(){},methods:{put:function(t){this.originalData=JSON.parse(JSON.stringify(t)),this.data=JSON.parse(JSON.stringify(t))},resetData:function(){this.data={}},reset:function(){this.$v.data.$reset(),this.resetData()},cancelItem:function(t){this.show=!1},saveItem:function(t){this.$v.data.$touch(),this.$v.data.$error||(this.$emit("save",this.data),this.show=!1)}},computed:{}},_=(i(502),Object(d.a)(p,h,[],!1,null,"051cb1aa",null));_.options.__file="src/vue/pages/components/DetectDateEditItem.vue";var f=_.exports,g={mixins:[s.validationMixin],validations:{maxcount:{required:a.required}},components:{Header:o.a,DetectDateNewItem:v,DetectDateEditItem:f},data:function(){return{countyList:[],countyValue:"",countyLoading:!1,stationList:[],stationValue:"",stationLoading:!1,date:(new Date).toISOString().substr(0,10),running:!1,api_getCountyList_promise:null,api_getStationList_promise:null,openTime:null,openTimeLoading:!1}},mounted:function(){},methods:{county_click:function(){this.countyUpdate()},station_click:function(){this.stationUpdate()},countyUpdate:function(){var t=this;this.api_getCountyList_promise&&(this.api_getCountyList_promise.cancel(),this.api_getCountyList_promise=null),this.countyList=[],this.countyLoading=!0,this.api_getCountyList_promise=Object(c.d)(this.$store.state.token),this.api_getCountyList_promise.then((function(e){t.countyLoading=!1,t.countyList=e}))},stationUpdate:function(){var t=this;this.api_getStationList_promise&&(this.api_getStationList_promise.cancel(),this.api_getStationList_promise=null),this.stationList=[],this.stationLoading=!0,this.api_getStationList_promise=Object(c.g)(this.$store.state.token,this.countyValue),this.api_getStationList_promise.then((function(e){t.stationLoading=!1,t.stationList=e}))},station_change:function(){this.openTimeUpdate()},date_change:function(){this.openTimeUpdate()},openTimeUpdate:function(){var t=this;this.openTime=null,this.openTimeLoading=!0,Object(c.f)(this.$store.state.token,this.stationValue,this.date).then((function(e){t.openTime=e,t.openTimeLoading=!1}))},addItem:function(){this.$refs.newItem.reset(),this.$refs.newItem.show=!0},editItem:function(){this.$refs.editItem.reset(),this.$refs.editItem.put({maxcount:this.openTime.maxcount}),this.$refs.editItem.show=!0},removeItem:function(){var t=this;this.running=!0,Object(c.a)(this.$store.state.token,this.stationValue,this.date).then((function(){t.running=!1,t.openTimeUpdate()}))},detectDateNewItem_save:function(t){var e=this;this.running=!0,Object(c.m)(this.$store.state.token,this.stationValue,this.date,t.maxcount).then((function(){e.running=!1,e.openTimeUpdate()}))},detectDateEditItem_save:function(t){var e=this;this.running=!0,Object(c.k)(this.$store.state.token,this.stationValue,this.date,t.maxcount).then((function(){e.running=!1,e.openTimeUpdate()}))}},computed:{maxcountErrors:function(){if(this.$v.maxcount.$dirty)return this.$v.maxcount.required?void 0:"請填寫這個欄位。"}}},y=(i(503),Object(d.a)(g,n,[],!1,null,"09e5f67e",null));y.options.__file="src/vue/pages/DetectDate.vue";e.default=y.exports}}]);